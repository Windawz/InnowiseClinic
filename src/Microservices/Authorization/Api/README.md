# Configuring

This project must be configured before running. You can provide the values through `appsettings.json`, or `appsettings.Development.json`.

This file provides a list of configuration options that must be filled in. Configuration keys are written in the notation used in `Microsoft.Extensions.Configuration` APIs.

#### Connection strings
- `ConnectionStrings:Default`
    - Type: connection string
    - Database connection string to use for database queries
#### Access token generation
- `Auth:Generation:AccessTokens:Issuer`
    - Type: string
    - Issuer of access tokens generated by the microservice
- `Auth:Generation:AccessTokens:Audience`
    - Type: string
    - Audience of access tokens generated by the microservice
- `Auth:Generation:AccessTokens:Algorithm`
    - Type: URI/string
    - Optional
    - Default: `"http://www.w3.org/2001/04/xmldsig-more#hmac-sha256"`
    - Algorithm used for signing. A value can be obtained from constants defined in the `System.IdentityModel.Tokens.SecurityAlgorithms` class. Example: `http://www.w3.org/2001/04/xmldsig-more#hmac-sha256`
- `Auth:Generation:AccessTokens:ExpirationSeconds`
    - Type: positive int
    - Amount of seconds that must pass for an access token to expire
- `Auth:Generation:AccessTokens:RoleClaimType`
    - Type: URI/string
    - Optional
    - Default: `"http://schemas.microsoft.com/ws/2008/06/identity/claims/role"`
    - Name of the claim to write role information to. A value can be obtained from constants defined in the `System.Security.Claims.ClaimTypes` class. Example: `http://schemas.microsoft.com/ws/2008/06/identity/claims/role`
#### Refresh token generation
- `Auth:Generation:RefreshTokens:ExpirationSeconds`
    - Type: positive int
    - Optional
    - Default: 3600
    - Amount of seconds that must pass for a refresh token to expire
#### Access token-based authentication
- `Auth:Authentication:JwtBearer:ValidIssuer`
    - Type: string
    - Should match `Auth:Generation:AccessTokens:Issuer`
- `Auth:Authentication:JwtBearer:ValidAudience`
    - Type: string
    - Should match `Auth:Generation:AccessTokens:Audience`
- `Auth:Authentication:JwtBearer:IssuerSigningKey`
    - Type: string
    - Length: that of `Auth:Generation:AccessTokens:Algorithm`
    - A random combination of characters
- `Auth:Authentication:JwtBearer:ValidateLifetime`
    - Type: bool
    - Optional
    - Default: false
    - Whether access token lifetime is validated or not
- `Auth:Authentication:JwtBearer:ClockSkewSeconds`
    - Type: positive int
    - Optional
    - Default: 5
    - Extra seconds after expiration during which an access token can still be used